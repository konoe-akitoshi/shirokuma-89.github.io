---
layout: post
title:  "STM32マイコンの開発環境"
date:   2021-04-15
image:  021-030/028/top.jpg
tags:  [STM32]
---

こんにちわん！しろくま＠胡瓜です。1週間ブログサボっちゃいました。

実は先日ロボット研究会の見学に行ってきました。天国でした。もう絶対入りたいです。

## 概要

**STM32マイコンって開発環境多すぎん？**っていう話です。あるサイトにはmbed、あるサイトにはPlatformIO、あるサイトにはSTM32CubeIDE…。~~初心者殺しな気がします。~~

というわけで僕が今まで触ったことのある開発環境をとりあえずまとめてみます。開発環境が複数用意されているのはSTM32マイコンの利点でもあるのですが、逆に欠点でもあるわけでして。

## PlatformIO

![]({{site.baseurl}}/img/021-030/028/001.png)

僕の激推しはこれです。PlatformIOさえ入れておけばとりあえずなんとかなると思ってもらって大丈夫だと思います。

めんどくさいポートの設定とかしなくても簡単に書き込むことができます。VS Code信者の人、Atom信者の人はこれがいいと思います。僕はVS Code信者なのでこれを使っています。

### メリット

- STM32マイコンをArduino言語で開発できる
- コンパイルはまぁまぁ速い
- デバッグできる
- STM32マイコン以外も大体これで開発できる
- さまざまな書き込み方法（DFUなど）に対応している
- お気に入りのVS Code環境を使うことができる
- mbedやSTM32CubeIDEとか色々フレームワークを選べる

### デメリット

- 全てのSTM32マイコンに対応しているわけではない
- 初回のコンパイルがめっちゃ遅い（それ以降は速い）

## mbed

![]({{site.baseurl}}/img/021-030/028/002.png)

これだけ他の方法と比べてちょっと特殊です。ブラウザさえあればめんどくさいものをインストールしなくても開発することができます。

### メリット

- 何もインストールしなくても開発できる
- パソコンのストレージを食わない

### デメリット

- オフラインで使えない
- アカウントを作成する必要がある
- エディタを自分好みにカスタマイズできない
- mbed OS以外での開発ができない。
- 生STM32マイコンへの書き込みができない

## STM32CubeIDE

![]({{site.baseurl}}/img/021-030/028/003.png)

STM32が公式で出している開発環境です。公式が出していると言うだけあって機能はめちゃめちゃ豊富です。逆にこれでできないことは他の開発環境でもできないことが多いです。eclipseベースなのでeclipse信者の方はこれが肌に合うかもしれません。

### メリット

- 基本これでできないことはない
- ピン衝突を防ぎながらピン割り当てができる
- eclipse LOVEな人は使いやすい

### デメリット

- Arduino言語やmbedのような直感的なコード記述ではない
- C/C++言語の知識がない人は多分難しいと感じると思う
- NucleoのArduino互換のピン配置の必要性があんまりなくなる

## STM32duino

![]({{site.baseurl}}/img/021-030/028/004.png)

ArduinoIDEのボードマネージャーに追加することでSTM32マイコンを開発できるようにする手法です。導入は一番簡単かもしれないです。ただしコンパイルとかが遅すぎて堪えられないのであんまり実用的ではないです。何もわからずとりあえずNucleoをノリで買ってみた人（←2年前の僕）とかの最初のLチカぐらいには使えると思います。

### メリット

- ArduinoIDE持ってる人はそのままでいい
- 導入が楽
- Arduino言語で記述できる

### デメリット

- ArduinoIDE自体元々そんなに使いやすいものでもない
- コンパイルが致命的なぐらい遅い

## 終わりに

それぞれの書き込み方法やチュートリアルとかは結構Qiitaとかに出回ってたりするんですが、開発環境まとめみたいなのがあんまりなかったので書いてみました。既にあったらごめんなさい。やっぱり開発環境や言語を選べるのはSTM32マイコンの強みかもしれませんね。

僕はとりあえずここに載せた全ての方法は食わず嫌いせずに一通り使ったことがあるので、もし質問とかあれば遠慮なくDMまたはリプください。

ではみなさんおやすみなさい。

## 白熊のぼやき

**Apple Eventｷﾀｧｧｧｧｱｱｱ!!!!!!!!!!!!!!**

<center><blockquote class="twitter-tweet" data-theme="dark"><p lang="ja" dir="ltr">きちゃあああああ！！！🔥<a href="https://twitter.com/hashtag/AppleEvent?src=hash&amp;ref_src=twsrc%5Etfw">#AppleEvent</a> <a href="https://t.co/KfZVJLLaMF">pic.twitter.com/KfZVJLLaMF</a></p>&mdash; しろくま🥒胡瓜 Root41 (@robokichi41) <a href="https://twitter.com/robokichi41/status/1382094369495285763?ref_src=twsrc%5Etfw">April 13, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></center>

21日午前2時からは[Apple Event(Apple公式)](https://www.apple.com/apple-events/)で心拍数バクバクの白熊と一緒にイベントを楽しもう！